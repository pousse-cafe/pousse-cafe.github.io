<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.1 from src/site/apt/usage.apt at 2021-01-07
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.1" />
    <meta name="author" content="Gérard Dethier" />
    <meta name="date" content="2019-09-17" />
    <title>Pousse-Café Maven Plugin &#x2013; Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="https://www.pousse-cafe-framework.org/" id="bannerLeft"><img src="images/logo.png"  alt="Pousse-Café" title="Pousse-Café"/></a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li class=""><a href="https://www.pousse-cafe-framework.org/" class="externalLink" title="Pousse-Café">Pousse-Café</a><span class="divider">/</span></li>
    <li class="active ">Usage</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2021-01-07</li>
          <li id="projectVersion" class="pull-right">Version: 0.19.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li class="active"><a href="#"><span class="none"></span>Usage</a></li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
    <div id="twitter">
    <a href="https://twitter.com/PousseCafeFW" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow PousseCafeFW</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="Usage"></a>Usage</h2><section>
<h3><a name="Add_a_new_domain_process"></a>Add a new domain process</h3>
<p>It is recommended to configure the storage adapters you want to use in your POM file. Indeed, this information will not change very often.</p>
<p>You can configure the plugin by adding the following plugin element to your build section:</p>
<div>
<pre>&lt;build&gt;
    ...
    &lt;plugins&gt;
        ...
        &lt;plugin&gt;
            &lt;groupId&gt;org.pousse-cafe-framework&lt;/groupId&gt;
            &lt;artifactId&gt;pousse-cafe-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${poussecafe.version}&lt;/version&gt;
            &lt;configuration&gt;
                &lt;storageAdapters&gt;
                    &lt;storageAdapter&gt;internal&lt;/storageAdapter&gt;
                    &lt;storageAdapter&gt;{put here any alternative storage or remove if not relevant}&lt;/storageAdapter&gt;
                &lt;/storageAdapters&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
        ...
    &lt;/plugins&gt;
    ...
&lt;/build&gt;</pre></div>
<p>Possible values for alternative storage are &quot;spring-mongo&quot; or &quot;spring-jpa&quot; (without the quotes). Generally, you only need one.</p>
<p>Create a file containing the <a class="externalLink" href="https://github.com/pousse-cafe/pousse-cafe/wiki/Introduction-to-EMIL"> EMIL</a> description of your new process.</p>
<p>After that, you can execute the following command in your Maven project:</p>
<div>
<pre>mvn pousse-cafe:import-process -DbasePackage=model.base.package -DemilFile=/path/to/process.emil -DcodeFormatterProfile=/path/to/profile/codeFormatterProfile.xml</pre></div>
<p>As a result, missing classes and/or methods will be created automatically by the plugin. The next steps are the addition of attributes to the aggregates, events and commands and the implementation of generated message listeners and/or hooks.</p>
<p>Note that the codeFormatterProfile property is optional. If it is not provided, generated code will not be formatted.</p></section><section>
<h3><a name="Update_an_existing_process"></a>Update an existing process</h3>
<p>For the configuration of the storage adapters, see above section.</p>
<p>To get the list of existing processes in a project, the following command can be executed:</p>
<div>
<pre>mvn pousse-cafe:list-processes</pre></div>
<p>In order to update one of the listed processes, the following command should be executed:</p>
<div>
<pre>mvn pousse-cafe:update-process -DprocessName=TheProcess -DbasePackage=model.base.package -DcodeFormatterProfile=/path/to/profile/codeFormatterProfile.xml</pre></div>
<p>As a result, a text editor will be opened offering the possibility to directly change the EMIL description of selected process. If the description is not changed after saving and closing the editor, no import is executed. Otherwise, missing classes and/or methods are generated.</p>
<p>The text editor is selected using $EDITOR environment variable. If the variable is empty, then vim is being used as the default text editor.</p></section><section>
<h3><a name="Generating_expert-readable_documentation_for_your_model"></a>Generating expert-readable documentation for your model</h3>
<p>In order to bind the documentation generation to package phase, add the following plugin element to your build section:</p>
<div>
<pre>&lt;build&gt;
    ...
    &lt;plugins&gt;
        ...
        &lt;plugin&gt;
            &lt;groupId&gt;org.pousse-cafe-framework&lt;/groupId&gt;
            &lt;artifactId&gt;pousse-cafe-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${poussecafe.version}&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;generate-doc&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;phase&gt;package&lt;/phase&gt;
                    &lt;configuration&gt;
                        &lt;domainName&gt;Your Domain Name&lt;/domainName&gt;
                        &lt;basePackage&gt;your.model.base.package&lt;/basePackage&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
        ...
    &lt;/plugins&gt;
    ...
&lt;/build&gt;</pre></div></section><section>
<h3><a name="Validate_code_on_compile_phase"></a>Validate code on compile phase</h3>
<p>In order to quickly detect any issue in your Pousse-Caf&#xe9; code, you may run code validation during compile phase, which enables shorter feedback loops.</p>
<div>
<pre>&lt;build&gt;
    ...
    &lt;plugins&gt;
        ...
        &lt;plugin&gt;
            &lt;groupId&gt;org.pousse-cafe-framework&lt;/groupId&gt;
            &lt;artifactId&gt;pousse-cafe-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${poussecafe.version}&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;validate&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;validate&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;phase&gt;compile&lt;/phase&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
        ...
    &lt;/plugins&gt;
    ...
&lt;/build&gt;</pre></div></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2021..</p>
        </div>
      </div>
    </footer>
  </body>
</html>
